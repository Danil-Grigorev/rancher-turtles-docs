<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-getting-started/create-first-cluster/using_fleet">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Create &amp; import your first cluster using Fleet | Rancher Turtles</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.rancher-turtles.com/rancher-turtles-docs/pr-preview/pr-1/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.rancher-turtles.com/rancher-turtles-docs/pr-preview/pr-1/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://docs.rancher-turtles.com/rancher-turtles-docs/pr-preview/pr-1/docs/getting-started/create-first-cluster/using_fleet"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Create &amp; import your first cluster using Fleet | Rancher Turtles"><meta data-rh="true" name="description" content="This section will guide you through creating your first cluster and importing it into Rancher Manager using a GitOps workflow with Fleet."><meta data-rh="true" property="og:description" content="This section will guide you through creating your first cluster and importing it into Rancher Manager using a GitOps workflow with Fleet."><link data-rh="true" rel="icon" href="/rancher-turtles-docs/pr-preview/pr-1/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.rancher-turtles.com/rancher-turtles-docs/pr-preview/pr-1/docs/getting-started/create-first-cluster/using_fleet"><link data-rh="true" rel="alternate" href="https://docs.rancher-turtles.com/rancher-turtles-docs/pr-preview/pr-1/docs/getting-started/create-first-cluster/using_fleet" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.rancher-turtles.com/rancher-turtles-docs/pr-preview/pr-1/docs/getting-started/create-first-cluster/using_fleet" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/rancher-turtles-docs/pr-preview/pr-1/blog/rss.xml" title="Rancher Turtles RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/rancher-turtles-docs/pr-preview/pr-1/blog/atom.xml" title="Rancher Turtles Atom Feed">



<script src="https://plausible.io/js/plausible.js" async defer="defer" data-domain="rancher-sandbox.github.io"></script><link rel="stylesheet" href="/rancher-turtles-docs/pr-preview/pr-1/assets/css/styles.546caac4.css">
<link rel="preload" href="/rancher-turtles-docs/pr-preview/pr-1/assets/js/runtime~main.a17bf708.js" as="script">
<link rel="preload" href="/rancher-turtles-docs/pr-preview/pr-1/assets/js/main.217f1f0d.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/rancher-turtles-docs/pr-preview/pr-1/"><div class="navbar__logo"><img src="/rancher-turtles-docs/pr-preview/pr-1/img/logo.svg" alt="Rancher Turtles" class="themedImage_ToTc themedImage--light_HNdA"><img src="/rancher-turtles-docs/pr-preview/pr-1/img/logo.svg" alt="Rancher Turtles" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Rancher Turtles</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rancher-turtles-docs/pr-preview/pr-1/docs/intro">Documentation</a><a class="navbar__item navbar__link" href="/rancher-turtles-docs/pr-preview/pr-1/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/rancher-sandbox/rancher-turtles-doc" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rancher-turtles-docs/pr-preview/pr-1/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/rancher-turtles-docs/pr-preview/pr-1/docs/category/getting-started">Getting Started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-turtles-docs/pr-preview/pr-1/docs/getting-started/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-turtles-docs/pr-preview/pr-1/docs/getting-started/rancher">Rancher Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-turtles-docs/pr-preview/pr-1/docs/getting-started/install_capi_operator">Install Cluster API Operator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-turtles-docs/pr-preview/pr-1/docs/getting-started/install_turtles_operator">Install Rancher Turtles Operator</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/rancher-turtles-docs/pr-preview/pr-1/docs/category/your-first-cluster">Your first cluster</a><button aria-label="Toggle the collapsible sidebar category &#x27;Your first cluster&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-turtles-docs/pr-preview/pr-1/docs/getting-started/create-first-cluster/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-turtles-docs/pr-preview/pr-1/docs/getting-started/create-first-cluster/using_kubectl">Create &amp; Import Your First Cluster Using kubectl</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/rancher-turtles-docs/pr-preview/pr-1/docs/getting-started/create-first-cluster/using_fleet">Create &amp; import your first cluster using Fleet</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/rancher-turtles-docs/pr-preview/pr-1/docs/category/tasks">Tasks</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tasks&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rancher-turtles-docs/pr-preview/pr-1/docs/CONTRIBUTING">Contributing Guidelines</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/rancher-turtles-docs/pr-preview/pr-1/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/rancher-turtles-docs/pr-preview/pr-1/docs/category/getting-started"><span itemprop="name">Getting Started</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/rancher-turtles-docs/pr-preview/pr-1/docs/category/your-first-cluster"><span itemprop="name">Your first cluster</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Create &amp; import your first cluster using Fleet</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Create &amp; import your first cluster using Fleet</h1><p>This section will guide you through creating your first cluster and importing it into Rancher Manager using a GitOps workflow with Fleet.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2><ul><li>Rancher Manager cluster with Rancher Turtles installed</li><li>Cluster API providers installed for your scenario - we&#x27;ll be using the Docker infrastructure and Kubeadm bootstrap/controlplane providers in these instructions</li><li><strong>clusterctl</strong> CLI - see the <a href="https://github.com/kubernetes-sigs/cluster-api/releases" target="_blank" rel="noopener noreferrer">releases</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-your-cluster-definition">Create your cluster definition<a href="#create-your-cluster-definition" class="hash-link" aria-label="Direct link to Create your cluster definition" title="Direct link to Create your cluster definition">​</a></h2><p>The <strong>clusterctl</strong> CLI can be used to generate the YAML for a cluster. When you run <code>clusterctl generate cluster</code> command is run, it will connect to the management cluster to see what infrastructure providers have been installed. Also, it will take care of replacing any tokens in the chosen template (a.k.a flavour) with values from environment variables.</p><p>Alternatively, you can craft the YAML for your cluster manually. If you decide to do this then you can use the <strong>templates</strong> that infrastructure providers publish as part of their releases. For example, the AWS provider <a href="https://github.com/kubernetes-sigs/cluster-api-provider-aws/releases/tag/v2.2.1" target="_blank" rel="noopener noreferrer">publishes files</a> prefixed with <strong>cluster-template</strong> that can be used as a base. You will need to replace any tokens yourself or by using clusterctl (e.g. <code>clusterctl generate cluster test1 --from https://github.com/kubernetes-sigs/cluster-api-provider-aws/releases/download/v2.2.1/cluster-template-eks.yaml &gt; cluster.yaml</code>).</p><blockquote><p>This guide does not use ClusterClass. Templates that use ClusterClass will require that the experimental feature be enabled.</p></blockquote><p>To generate the YAML for the cluster do the following (assuming the Docker infrastructure provider is being used):</p><ol><li>Open a terminal and run the following:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">CONTROL_PLANE_MACHINE_COUNT</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">WORKER_MACHINE_COUNT</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">KUBERNETES_VERSION</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">v1.26.4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clusterctl generate cluster cluster1 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--from https://raw.githubusercontent.com/rancher-sandbox/rancher-turtles-fleet-example/templates/docker-kubeadm.yaml </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> cluster1.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>View <strong>cluster1.yaml</strong> to ensure there are no tokens. You can make any changes you want as well.</li></ol><blockquote><p>The Cluster API quickstart guide contains more detail. Read the steps related to this section <a href="https://cluster-api.sigs.k8s.io/user/quick-start.html#required-configuration-for-common-providers" target="_blank" rel="noopener noreferrer">here</a>.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-your-repo-for-fleet">Create your repo for Fleet<a href="#create-your-repo-for-fleet" class="hash-link" aria-label="Direct link to Create your repo for Fleet" title="Direct link to Create your repo for Fleet">​</a></h2><ol><li>Create a new git repository (this guide uses GitHub)</li><li>Create a new folder called <strong>clusters</strong></li><li>Move the <strong>cluster1.yaml</strong> file you generated in the last section to the <strong>clusters</strong> folder.</li><li>Create a file called <strong>fleet.yaml</strong> in the root and add the following contents</li></ol><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> default</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="5"><li>Commit the changes</li></ol><blockquote><p>The <strong>fleet.yaml</strong> is used to specify configuration options for fleet (see <a href="https://fleet.rancher.io/ref-fleet-yaml" target="_blank" rel="noopener noreferrer">docs</a> for further details). In this instance its declaring that the cluster definitions should be added to the <strong>default</strong> namespace</p></blockquote><p>After the described steps there will be a repository created structure similar to the example: <a href="https://github.com/rancher-sandbox/rancher-turtles-fleet-example" target="_blank" rel="noopener noreferrer">https://github.com/rancher-sandbox/rancher-turtles-fleet-example</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mark-namespace-for-auto-import">Mark Namespace for auto-import<a href="#mark-namespace-for-auto-import" class="hash-link" aria-label="Direct link to Mark Namespace for auto-import" title="Direct link to Mark Namespace for auto-import">​</a></h2><p>To automatically import a CAPI cluster into Rancher Manager there are 2 options:</p><ol><li>label a namespace so all clusters contained in it are imported.</li><li>label an individual cluster definition so that it&#x27;s imported.</li></ol><p>In both cases the label is <code>cluster-api.cattle.io/rancher-auto-import</code>.</p><p>This walkthrough will use the first option of importing all clusters in a namespace.</p><ol><li>Open a terminal</li><li>Label the default namespace in your Rancher Manager cluster:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl label namespace default cluster-api.cattle.io/rancher-auto-import</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="configure-rancher-manager">Configure Rancher Manager<a href="#configure-rancher-manager" class="hash-link" aria-label="Direct link to Configure Rancher Manager" title="Direct link to Configure Rancher Manager">​</a></h2><p>Now the cluster definitions are committed to a git repository they can be used to provision the clusters. To do this they will need to be imported into the Rancher Manager cluster (which is also acting as a Cluster API management cluster) using the <strong>Continuous Delivery</strong> feature (which uses Fleet).</p><p>There are 2 options to provide the configuration. The first is using the Rancher Manager UI and the second is by applying some YAML to your cluster. Both are covered below.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="using-the-rancher-manager-ui">Using the Rancher Manager UI<a href="#using-the-rancher-manager-ui" class="hash-link" aria-label="Direct link to Using the Rancher Manager UI" title="Direct link to Using the Rancher Manager UI">​</a></h3><ol><li>Go to Rancher Manager</li><li>Select <strong>Continuos Delivery</strong> from the menu:
<img loading="lazy" alt="sidebar" src="/rancher-turtles-docs/pr-preview/pr-1/assets/images/sidebar-3cf91dbc9ac49cf3928cd54db35db705.png" width="299" height="411" class="img_ev3q"></li><li>Select <strong>fleet-local</strong> as the namespace from the top right
<img loading="lazy" alt="namespace" src="data:image/png;base64,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" width="349" height="56" class="img_ev3q"></li><li>Select <strong>Git Repos</strong> from the sidebar</li><li>Click <strong>Add Repository</strong></li><li>Enter <strong>clusters</strong> as the name</li><li>Get the <strong>HTTPS</strong> clone URL from your git repo
<img loading="lazy" alt="git clone url" src="/rancher-turtles-docs/pr-preview/pr-1/assets/images/gh_clone-f6d998cb137762c411984a1458eecbe1.png" width="442" height="282" class="img_ev3q"></li><li>Add the URL into the <strong>Repository URL</strong> field</li><li>Change the branch name to <strong>main</strong></li><li>Click <strong>Next</strong></li><li>Click <strong>Create</strong></li><li>Click on the <strong>clusters</strong> name</li><li>Watch the resources become ready</li><li>Select <strong>Cluster Management</strong> from the menu</li><li>Check your cluster has been imported</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="using-kubectl">Using kubectl<a href="#using-kubectl" class="hash-link" aria-label="Direct link to Using kubectl" title="Direct link to Using kubectl">​</a></h3><ol><li>Get the <strong>HTTPS</strong> clone URL from your git repo</li><li>Create a new file called <strong>repo.yaml</strong></li><li>Add the following contents to the new file:</li></ol><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> fleet.cattle.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> GitRepo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> clusters</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> fleet</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">local</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">branch</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">repo</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> &lt;https</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//github.com/rancher</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">sandbox/rancher</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">turtles</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">fleet</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">example.git</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">targets</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="4"><li>Apply the file to the Rancher Manager cluster using <strong>kubectl</strong>:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f repo.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="5"><li>Go to Rancher Manager</li><li>Select <strong>Continuos Delivery</strong> from the side bar</li><li>Select <strong>fleet-local</strong> as the namespace from the top right</li><li>Select <strong>Git Repos</strong> from the sidebar</li><li>Click on the <strong>clusters</strong> name</li><li>Watch the resources become ready</li><li>Select <strong>Cluster Management</strong> from the menu</li><li>Check your cluster has been imported</li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/rancher-sandbox/rancher-turtles-docs/tree/main/docs/docs/getting-started/create-first-cluster/using_fleet.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/rancher-turtles-docs/pr-preview/pr-1/docs/getting-started/create-first-cluster/using_kubectl"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Create &amp; Import Your First Cluster Using kubectl</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/rancher-turtles-docs/pr-preview/pr-1/docs/category/tasks"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Tasks</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#create-your-cluster-definition" class="table-of-contents__link toc-highlight">Create your cluster definition</a></li><li><a href="#create-your-repo-for-fleet" class="table-of-contents__link toc-highlight">Create your repo for Fleet</a></li><li><a href="#mark-namespace-for-auto-import" class="table-of-contents__link toc-highlight">Mark Namespace for auto-import</a></li><li><a href="#configure-rancher-manager" class="table-of-contents__link toc-highlight">Configure Rancher Manager</a><ul><li><a href="#using-the-rancher-manager-ui" class="table-of-contents__link toc-highlight">Using the Rancher Manager UI</a></li><li><a href="#using-kubectl" class="table-of-contents__link toc-highlight">Using kubectl</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 SUSE LLC. Built with Docusaurus.</div></div></div></footer></div>
<script src="/rancher-turtles-docs/pr-preview/pr-1/assets/js/runtime~main.a17bf708.js"></script>
<script src="/rancher-turtles-docs/pr-preview/pr-1/assets/js/main.217f1f0d.js"></script>
</body>
</html>